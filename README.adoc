image:./img/nvim_dashboard.jpg[]

= NvME
/Àà…õnvi mi:/

A **ME**ticulous nvim distribution, crafted from scratch solely for **ME** with
every features and keybindings configured to offer supre**ME** comfort and
comple**ME**nt **ME** workflow im**ME**nsely.

== ‚ö° Requirements

* *Neovim* (Needs to be built with LuaJIT)
* *GCC*: For compiling treesitter languages in Linux
* *Zig Compiler*: For compiling treesitter languages in Windows
* *git*: For git integration, cloning plugin repos etc.
* *ripgrep*: For live grep
* *fd*: For Find Files
* *vifm*: File Manager
* *lazygit*: Git UI
* *nodejs*: For Language Servers and Formatters
* *live-server*: For local HTML Server

=== Install Requirements

.üÖê Arch Based System (pacman)
[source,bash]
----
sudo pacman -S neovim git ripgrep fd vifm lazygit python npm
sudo npm install -g live-server
----

== üì¶ Quick Start

.üöÄ `Install Guide (auto backups prev config if any)`
[%collapsible]
====
[discrete]
== üöÄ Install

If any config is already present, it backups your config and puts NvME in place.

[discrete]
=== üêß Linux

* Suggested Compiler: *GCC*

.bash / zsh
[source,bash]
----
ME=~/.config/nvim; [ -d $ME ] && mv $ME ${ME}_backup/
git clone https://github.com/MidHunterX/NvME $ME --depth 1 && nvim
----

.fish
[source,fish]
----
set ME ~/.config/nvim; test -d $ME; and mv $ME {$ME}_backup
git clone https://github.com/MidHunterX/NvME $ME --depth 1 && nvim
----

[discrete]
=== ü™ü Windows

* Suggested Compiler: *Zig Compiler*

.powershell
[source,pwsh]
----
git clone https://github.com/MidHunterX/NvME $env:localappdata\nvim --depth 1; nvim
----

.cmd
[source,cmd]
----
git clone https://github.com/MidHunterX/NvME %localappdata%\nvim --depth 1 && nvim
----

====

.üö∂ `Uninstall Guide (go back to previous config if exists)`
[%collapsible]
====
[discrete]
== üö∂ Uninstall

Uninstalls NvME and returns back to previous config if any.

.bash / zsh
[source,bash]
----
ME=~/.config/nvim; [ -d $ME ] && rm -rf $ME && mv ${ME}_backup/ $ME
----

.fish
[source,fish]
----
set ME ~/.config/nvim; test -d $ME && rm -rf $ME; and mv ${ME}_backup/ $ME
----

====

.üå± `Development Environment Setup`
[%collapsible]
====
[discrete]
== üå± Development Environment Setup

* Insert completion using `<C-f>` just like how it is done in fish shell

[discrete]
=== Python Django

* From `:Mason`, Install `pyright` Language Server

* Django uses some Python "magic" that makes having precise types for some code patterns problematic. To provide more precise static types and type inference for Django framework and be recognizable to pyright LSP, install:

----
pip install django-stubs
----

[discrete]
=== Flutter

----
sudo pacman -S jdk21-openjdk
sudo archlinux-java set java-21-openjdk
----

====

== üé® Design Philosophy

image:./img/nvim_record.jpg[]

Important Stuff on Top Left Side::
Left side is where your eyes linger most of the time when coding. Therefore the
most important stuff happens directly near your line of sight. Macro Record
Status possess high importance until recording is stopped. Therefore it stays
on left side only for the time being recorded for a macro.

Less Important Stuff on Top Right Side::
Buffer list is not needed at all times, therefore it doesn't have that much
importance to interfere with the code in buffer.

Yank into System Clipboard by Default::
Text is copied to system clipboard almost on every other apps; why should there
be an exception here. Less hassle when copy pasting between windows frequently.

Scroll past EOF in buffer with `j`::
Personal preference for EOF to not be stuck at the bottom of the screen. Keys
should always do something.

Jump to line ends and paragraphs with `H` and `L`::
H and L should be the extreme counterparts of h and l. No exceptions. After
that, it jumps paragraphs (which is disabled in macro mode).

.`üí° Learn More`
[%collapsible]
====
[discrete]
=== SmartMotion: Redefining `H` and `L`

If `A` means ‚Äòinsert further right‚Äô and `I` means ‚Äòinsert further left‚Äô, then
`H` should mean ‚Äòmove further left‚Äô (line-wise), and `L` should mean ‚Äòmove
further right‚Äô. Thus H and L is corrected semantically by following vim
conventions.

Now, what should happen when I'm already at the edge? It does nothing? No. Avoid
dead keys. Ensure that every press produces meaningful movement, enhancing flow
and reducing mental friction.

* When at the beginning of a line, H jumps to the previous paragraph `{`.
* When at the end of a line, L jumps to the next paragraph `}`.

NOTE: Paragraph jumping is intended for general navigational purposes only. Therefore
it is disabled in macro mode.
====

== ‚ú® Features

image:./img/nvim_hitfont.jpg[]

* Convert text to Hit Font with `:HitFont`
* Trim trailing lines and Write Buffer with `<leader>w`
* Git Commit with `<leader>gc` using Lazygit
* Execute files with `F5` or `:lua Execute_order_69()`
* Run file formatter with `<leader>fm` or `:lua Run_formatter()`

=== üå≥ Treesitter Node Manipulation

`treesitter_walker.lua`

*Navigate* through nodes with `<C-hjkl>`. On a well formatted code, think of this as moving through the indent lines vertically and jumping between the indent lines horizontally.

*Swap* those nodes around with `<C-HJKL>`.

=== ü´∂ Bracket Manipulation

`surround.lua`

*<bracket>* = [a]ngle bracket `>` | [b]racket `)` | [B]race `}` | [r]ectangle bracket `]` | [q]uote `"` `'`

[%header]
|===
| Keybinding                   | Description
| `ds <bracket>`               | Delete Surrounding <bracket>
| `cs <bracket> <new-bracket>` | Change Surrounding <bracket> to <new-bracket>
| `cS <bracket> <new-bracket>` | Change Surrounding <bracket> to <new-bracket> (line-wise)
| `gs <motions> <bracket>`     | Surround this <motions> with <bracket>
| `gS <motions> <bracket>`     | Surround this <motions> with <bracket> (line-wise)
| `gsl <bracket>`              | Surround this Line with <bracket>
| `gsL <bracket>`              | Surround this Line with <bracket> (line-wise)
|===

`autopairs.lua`: Autoclose brackets, quotes, etc. when typing them.

`im-matchparen.lua`: Highlights matching parenthesis when cursor is anywhere inside the block. An improved version of inbuilt matchparen.

`rainbow_brackets.lua`: Highlights matching pair of brackets based on the nesting level. The colors are inspired from "Bracket Pair Colorizer" VSCode extension; which was then adopted as VSCode core feature.

=== üêû AI Assisted Debugging

`ai_lsp_diagnostics.lua`

Helps you work out WTF that code error means *and* how to fix it!

[%header]
|===
| Keybinding   | Description
| `<leader>wd` | WTF Debug: Give me the simplified explanation of this error
| `<leader>wf` | WTF Fix: Just make this error disappear automatically
| `<leader>ws` | WTF Search: Google this error
| `<leader>wp` | WTF Provider: List and choose an LLM provider
|===

NOTE: Since this keybind conflicts with `<leader>w` (save file), this mode can only be activated by pressing `<leader>` and waiting for 1 second.

.`üí° How to set up?`
[%collapsible]
====
To install, just export the LLM API key of your choice as an environment variable. For example:

[source,bash]
----
# Gemini
export GEMINI_API_KEY=NznytnzngvbaBsPungTCGnaqTbbtyrFrnepu-NcvUrer

# OpenAI
export OPENAI_API_KEY=sk-XrlGbGurNyyrtrqylBcraShyylPybfrqNVPbzcnalNCVUrer
----

Supports: ANTHROPIC, COPILOT, DEEPSEEK, GEMINI, GROK, OLLAMA, OPENAI.

Then just select your provider using `<leader>wp` and you are good to go.

====

=== üöΩ AI Code Completion

`ai_windsurf.lua`

[%header]
|===
| Keybinding | Description
| `<C-f>`    | Accept Full completion (like in fish shell)
| `<M-,>`    | Cycle through completions
|===

This feature is enabled by default. But you can toggle AI Code Completion with
`:Codeium Toggle`

.`üí° How to set up?`
[%collapsible]
====

* Create a Windsurf account and get an API key.
* Authorize Windsurf (Codeium) using:

[source,lua]
----
:Codeium Auth
----

* Follow the rest of the instructions to get started.

After that, auto-completion will be available for use in the current buffer as you type.

====

== üìù Autocompletion Behaviour

image:./img/nvim_cmp.jpg[]

* Autocompletion suggestions keep popping while typing
* If the suggestion box is visible, you can do the following:
* Select Next entries with: `C-n`, `Down`
* Select Previous entries with: `C-p`, `Up`
* Accept an entry with `CR`, `i`, `C-i`
* Cancel Completion with `C-e`, `o`, `C-o`

Note: `TAB` does multiple things here

* If accepted entry is a snippet and snippet is expanded, use `TAB` & `S-Tab` for jumping around the snippet fields.
* If autocompletion menu is visible, use `TAB` to select LSP pre-selected entry.
* If LSP pre-selected entry is not available in menu, `TAB` will select the first entry.
* If menu and snippet are both not visible, `TAB` will jump over quotes and brackets.
* If quotes and brackets are not available, `TAB` will act as normal `TAB`.

.`üí° Show Completion Workflows`
[%collapsible]
====

[discrete]
=== Autocompletion: Terminal Style
[source,yaml]
----
Select: Tab, S-Tab
Accept: Enter
----

[discrete]
=== Autocompletion: Ide Style
[source,yaml]
----
Select: Down, Up
Accept: Enter
----

[discrete]
=== Autocompletion: Vim / Emacs Style
[source,yaml]
----
Select: C-n, C-p
Accept: Enter
Reject: C-e
----

[discrete]
=== Autocompletion: Personal Style
[source,yaml]
----
Select: Down, Up / Tab, S-Tab
Accept: i
Reject: o
----

====

== üó∫Ô∏è Custom Key Remaps

=== Normal Mode
[%header]
|===
| Key     | Description
| `u`     | Undo
| `U`     | Redo
| `H`     | Smart Motion to Line Start (`^` or `{`)
| `L`     | Smart Motion to Line End (`$` or `}`)
| `<C-u>` | Scroll Half Page Up (Cursor Centered)
| `<C-d>` | Scroll Half Page Down (Cursor Centered)
| `mm`    | Jump to Matching Bracket
| `<A-h>` | Go to Previous Buffer
| `<A-l>` | Go to Next Buffer
| `<C-h>` | Go to Previous Tab
| `<C-l>` | Go to Next Tab
| `<F5>`  | Execute Current Buffer (`:lua Execute_order_69()`)
| `g?`    | ROT13 Cipher (default, with description)
|===

=== Visual Mode
[%header]
|===
| Key | Description
| `J` | Move Line Down with Autoindent
| `K` | Move Line Up with Autoindent
| `<` | Indent Line/Selection Left (stay in Visual mode)
| `>` | Indent Line/Selection Right (stay in Visual mode)
| `H` | Smart Motion to Line Start (`^` or `{`)
| `L` | Smart Motion to Line End (`$` or `}`)
|===

=== Terminal Mode
[%header]
|===
| Key          | Description
| `<C-n>n`     | Return to Normal Mode
| `<C-w>n`     | Return to Normal Mode
| `<C-w><ESC>` | Return to Normal Mode
|===

=== Leader Remaps
[%header]
|===
| Key          | Description
| `<Space>`    | Leader
| `<leader>w`  | Write File
| `<leader>er` | Erase Search Highlight
| `<leader>rr` | Highlight & Replace Word
| `<leader>y`  | Yank Entire Buffer
| `<leader>us` | Toggle Spell Check
| `<leader>d`  | Delete Without Yanking
| `<leader>p`  | Paste Without Yanking
|===

=== Tab Management
[%header]
|===
| Key             | Description
| `<leader>tn`    | Tab: New
| `<leader>tc`    | Tab: Create
| `<leader>tx`    | Tab: Exit
| `<leader>tq`    | Tab: Quit
| `<leader>tX`    | Tab: Exit Other Tabs
| `<leader>tQ`    | Tab: Quit Other Tabs
| `<leader>th`    | Tab: Previous
| `<leader>tl`    | Tab: Next
| `<leader><A-h>` | Tab: Previous
| `<leader><A-l>` | Tab: Next
|===

=== GUI Style Remaps
[%header]
|===
| Key     | Description
| `<C-s>` | Save Document (Normal/Insert mode)
|===

== üìï More Text Objects

=== Default Text Objects
[%header]
|===
| Default Text Objects    | Description
| `p`                     | Paragraph
| `w`                     | Word
| `"` `'` `'` `"`         | Strings
| `[` `{` `(` `)` `}` `]` | Brackets
| `t`                     | Markup Tags
|===

=== Added Text Objects
[%header]
|===
| New Text Objects | Description
| `i`              | Conditional
| `l`              | Loop
| `f`              | Function
| `m`              | Method
| `c`              | Class
| `a`              | Argument
| `=`              | Assignment
| `:`              | Property
|===

== üîå Plugins

image:./img/nvim_plugins.jpg[]

* Lazy Loading Plugin Manager `lazy.nvim`
* Autoclosing Braces and Tags with `nvim-autopairs`
* Default Colorscheme: `catppuccin`
* Fancy Dashboard with `dashboard-nvim`
* Gitsigns on Signcolumn with `gitsigns.nvim`
* Install LSP servers, DAP servers, Linters and Formatters with `mason.nvim`
* NeoVim LSP Configuration with `nvim-lspconfig`
* Code Autocompletion with `nvim-cmp`
* Code Snippets with `luasnip` + `friendly-snippets`
* Tab out of Brackets and Quotes with `neotab.nvim`
* Scope based Indentation Lines with `indent-blankline.nvim`
* Lazygit Integration with `lazygit.nvim`
* Bracket pair highlighting with `rainbow-delimiters.nvim`
* Status Line and Buffer Line with `lualine.nvim`
* Change, Delete surrounding brackets or quotes quickly with `nvim-surround`
* Fuzzy search project files, Grep text search etc. with `telescope.nvim`
* Navigate through undo history tree with `telescope-undo.nvim`
* ToDo, Bug, Hack comments highlighting with `todo-comments.nvim`
* Convert, Manipulate and Pick Colors with `ccc.nvim`
* Semantic based Syntax Highlighting with `nvim-treesitter`
* See code context on top with `nvim-treesitter-context` instead of breadcrumbs
* View live Treesitter parsing tree with `nvim-treesitter/playground`
* Added more text objects with `nvim-treesitter-textobjects`
* Manage and Explore files and folders with `vifm.vim`
* Visible Color Codes on buffer with `nvim-coloriser.lua`
